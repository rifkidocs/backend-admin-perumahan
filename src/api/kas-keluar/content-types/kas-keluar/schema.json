{
  "kind": "collectionType",
  "collectionName": "kas_keluars",
  "info": {
    "singularName": "kas-keluar",
    "pluralName": "kas-keluars",
    "displayName": "Kas Keluar",
    "description": "Cash out management system for all expense transactions"
  },
  "options": {
    "draftAndPublish": false
  },
  "pluginOptions": {},
  "attributes": {
    "date": {
      "type": "date",
      "required": true,
      "description": "Tanggal transaksi pengeluaran"
    },
    "category": {
      "type": "enumeration",
      "enum": [
        "material",
        "gaji",
        "insentif",
        "operasional",
        "legal",
        "lainnya"
      ],
      "required": true,
      "description": "Kategori pengeluaran"
    },
    "amount": {
      "type": "biginteger",
      "required": true,
      "min": "1000"
    },
    "supplier": {
      "type": "relation",
      "relation": "manyToOne",
      "target": "api::supplier.supplier",
      "inversedBy": "kas_keluars"
    },
    "tipe_terkait": {
      "type": "enumeration",
      "enum": [
        "proyek",
        "kantor",
        "lainnya"
      ],
      "default": "proyek",
      "description": "Kategori terkait pengeluaran (Proyek, Kantor, atau Lainnya)"
    },
    "project": {
      "type": "relation",
      "relation": "manyToOne",
      "target": "api::proyek-perumahan.proyek-perumahan",
      "inversedBy": "kas_keluars",
      "nullable": true,
      "description": "Proyek terkait (opsional)"
    },
    "description": {
      "type": "string",
      "required": true,
      "minLength": 10,
      "maxLength": 500,
      "description": "Deskripsi lengkap pengeluaran"
    },
    "paymentMethod": {
      "type": "enumeration",
      "enum": [
        "transfer",
        "cash",
        "cek",
        "giro",
        "escrow"
      ],
      "required": true,
      "description": "Metode pembayaran yang digunakan"
    },
    "invoiceNumber": {
      "type": "string",
      "maxLength": 50,
      "unique": true,
      "nullable": true,
      "description": "Nomor invoice atau dokumen referensi"
    },
    "notes": {
      "type": "text",
      "maxLength": 1000,
      "nullable": true,
      "description": "Catatan tambahan mengenai transaksi"
    },
    "approval_status": {
      "type": "enumeration",
      "enum": [
        "pending",
        "approved",
        "rejected"
      ],
      "required": true,
      "default": "pending",
      "description": "Status persetujuan transaksi"
    },
    "createdBy": {
      "type": "relation",
      "relation": "manyToOne",
      "target": "api::karyawan.karyawan",
      "inversedBy": "kas_keluars_created"
    },
    "approvedBy": {
      "type": "relation",
      "relation": "manyToOne",
      "target": "api::karyawan.karyawan",
      "inversedBy": "kas_keluars_approved"
    },
    "approvedAt": {
      "type": "datetime",
      "nullable": true,
      "description": "Tanggal dan waktu persetujuan"
    },
    "attachment": {
      "type": "media",
      "multiple": false,
      "required": false,
      "allowedTypes": [
        "images",
        "files"
      ],
      "description": "Dokumen pendukung (invoice, kwitansi, dll)"
    },
    "pos_keuangan": {
      "type": "relation",
      "relation": "manyToOne",
      "target": "api::pos-keuangan.pos-keuangan",
      "inversedBy": "kas_keluars"
    },
    "department": {
      "type": "enumeration",
      "enum": [
        "keuangan",
        "gudang",
        "hrm",
        "project",
        "marketing"
      ],
      "nullable": true,
      "description": "Departemen terkait pengeluaran"
    },
    "urgent": {
      "type": "boolean",
      "default": false,
      "description": "Status urgent untuk prioritas persetujuan"
    },
    "referenceDocument": {
      "type": "string",
      "maxLength": 100,
      "nullable": true,
      "description": "Nomor dokumen referensi terkait (PO, SPK, dll)"
    },
    "salary_id": {
      "type": "relation",
      "relation": "manyToOne",
      "target": "api::salary.salary",
      "inversedBy": "kas_keluars",
      "nullable": true,
      "description": "Relasi ke data gaji yang menghasilkan transaksi ini"
    },
    "bankInfo": {
      "type": "string",
      "maxLength": 200,
      "nullable": true,
      "description": "Informasi rekening bank untuk transfer (auto-generated dari salary)"
    },
    "purchasing": {
      "type": "relation",
      "relation": "manyToOne",
      "target": "api::purchasing.purchasing",
      "inversedBy": "kas_keluars"
    }
  }
}
